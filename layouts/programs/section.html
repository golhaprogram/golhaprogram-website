{{ define "main" }}
<div class="program-section">
    <!-- Header Section -->
    <header class="section-header">
        <h1 class="section-title">{{ .Title }}</h1>
        {{ with .Description }}
            <p class="section-description">{{ . }}</p>
        {{ end }}
        <div class="program-count">
            تعداد برنامه‌ها: {{ partial "fa-number" (len .Pages) }}
        </div>
    </header>

    <!-- Programs Table -->
    <div class="programs-table-container">
        <table class="programs-table">
            <thead>
                <tr>
                    <th>شماره برنامه</th>
                    <th>دستگاه</th>
                    <th>خواننده</th>
                    <th>نوازنده</th>
                    <th>شاعر</th>
                    <th>گوینده</th>
                </tr>
            </thead>
            <tbody>
                {{ range .Pages.ByParam "program_number" }}
                <tr>
                    <td>
                        <a href="{{ .RelPermalink }}" class="program-link">
                            {{ partial "fa-number" .Params.program_number }}
                        </a>
                    </td>
                    <td>{{ .Params.dastgah }}</td>
                    <td>
                        {{ with .Params.performers.singers }}
                            {{ delimit . "، " }}
                        {{ end }}
                    </td>
                    <td>
                        {{ with .Params.performers.players }}
                            {{ delimit . "، " }}
                        {{ end }}
                    </td>
                    <td>
                        {{ with .Params.performers.poets }}
                            {{ delimit . "، " }}
                        {{ end }}
                    </td>
                    <td>
                        {{ with .Params.performers.announcers }}
                            {{ delimit . "، " }}
                        {{ end }}
                    </td>
                </tr>
                {{ end }}
            </tbody>
        </table>
    </div>
</div>
{{ end }}
